{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"Meteor.methods({\n\t// Admin Dashboard\n\tgetUserCount: function () {\n\t\tcount = Meteor.users.find().count();\n\t\treturn count;\n\t},\n\tsetUserRole: function (userId, role) {\n\t\tMeteor.users.update({ _id: userId }, { $set: { \"profile.role\": role } });\n\t},\n\teditUser: function (userId, newEmail, oldEmail) {\n\t\tAccounts.addEmail(userId, newEmail, false);\n\t\tAccounts.removeEmail(userId, oldEmail);\n\t},\n\tresetUserPassword: function (userId, email) {\n\t\tAccounts.sendResetPasswordEmail(userId, email);\n\t},\n\tcreateNewUser: function (user) {\n\t\tAccounts.createUser(user);\n\t\t// Send Email Code\n\t},\n\tdeleteUser: function (userId) {\n\t\tMeteor.users.remove(userId);\n\t},\n\t// Article Methods\n\tarticleInsert: function (url, title, body, thumnailURL, categories) {\n\n\t\tif (Meteor.user() != null) {\n\t\t\tvar articleId = Articles.insert({\n\t\t\t\turl: url,\n\t\t\t\ttitle: title,\n\t\t\t\tbody: body,\n\t\t\t\tthumb: thumnailURL,\n\t\t\t\tcategories: categories,\n\t\t\t\tlikes: 0,\n\t\t\t\tlikers: [],\n\t\t\t\tcomments: [],\n\t\t\t\tsubmitted: new Date(),\n\t\t\t\tuser: Meteor.userId(),\n\t\t\t\tuseremail: Meteor.user().emails[0].address\n\t\t\t});\n\t\t}\n\t},\n\tlikeArticle: function (articleId) {\n\t\tArticles.update({ _id: articleId }, { $inc: { likes: 1 } });\n\t\tArticles.update({ _id: articleId }, { $addToSet: { likers: Meteor.userId() } });\n\t},\n\tunlikeArticle: function (articleId) {\n\t\tArticles.update({ _id: articleId }, { $inc: { likes: -1 } });\n\t\tArticles.update({ _id: articleId }, { $pull: { likers: Meteor.userId() } });\n\t},\n\t// Comment Methods\n\tcommentInsert: function (comment) {\n\t\tconsole.log(comment);\n\t\tComments.insert(comment);\n\t},\n\tlikeComment: function (commentId) {\n\t\tComments.update({ _id: commentId }, { $inc: { likes: 1 } });\n\t\tComments.update({ _id: commentId }, { $addToSet: { likers: Meteor.userId() } });\n\t},\n\tunlikeComment: function (commentId) {\n\t\tComments.update({ _id: commentId }, { $inc: { likes: -1 } });\n\t\tComments.update({ _id: commentId }, { $pull: { likers: Meteor.userId() } });\n\t}\n});","ast":null,"map":{"version":3,"sources":["/server/methods.js"],"names":[],"mappings":"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","file":"/server/methods.js.map","sourcesContent":["Meteor.methods({\n\t// Admin Dashboard\n\tgetUserCount: function () {\n\t\tcount = Meteor.users.find().count();\n\t\treturn count;\n\t},\n\tsetUserRole: function(userId, role) {\n\t\tMeteor.users.update({_id: userId}, {$set: {\"profile.role\": role}})\n\t},\n\teditUser: function(userId, newEmail, oldEmail) {\n\t\tAccounts.addEmail(userId, newEmail, false);\n\t\tAccounts.removeEmail(userId, oldEmail);\n\t},\n\tresetUserPassword: function(userId, email) {\n\t\tAccounts.sendResetPasswordEmail(userId, email);\n\t},\n\tcreateNewUser: function(user) {\n\t\tAccounts.createUser(user);\n\t\t// Send Email Code\n\t},\n\tdeleteUser: function(userId) {\n\t\tMeteor.users.remove(userId);\n\t},\n\t// Article Methods\n\tarticleInsert: function(url, title, body, thumnailURL, categories) {\n\t\t\n\t\tif(Meteor.user() != null) {\n\t\t\tvar articleId = Articles.insert({\n\t\t\t\turl: url,\n\t\t\t\ttitle: title,\n\t\t\t\tbody: body,\n\t\t\t\tthumb: thumnailURL,\n\t\t\t\tcategories: categories,\n\t\t\t\tlikes: 0,\n\t\t\t\tlikers: [],\n\t\t\t\tcomments: [],\n\t\t\t\tsubmitted: new Date(),\n\t\t\t\tuser: Meteor.userId(),\n\t\t\t\tuseremail: Meteor.user().emails[0].address\n\t\t\t});\n\t\t}\n\t},\n\tlikeArticle: function(articleId) {\n\t\tArticles.update({_id:articleId}, {$inc: {likes: 1}});\n\t\tArticles.update({_id:articleId}, {$addToSet: {likers: Meteor.userId()}});\n\t},\n\tunlikeArticle: function(articleId) {\n\t\tArticles.update({_id:articleId}, {$inc: {likes: -1}});\n\t\tArticles.update({_id:articleId}, {$pull: {likers: Meteor.userId()}});\n\t},\n\t// Comment Methods\n\tcommentInsert: function(comment) {\n\t\tconsole.log(comment);\n\t\tComments.insert(comment);\n\t},\n\tlikeComment: function(commentId) {\n\t\tComments.update({_id:commentId}, {$inc: {likes: 1}});\n\t\tComments.update({_id:commentId}, {$addToSet: {likers: Meteor.userId()}});\n\t},\n\tunlikeComment: function(commentId) {\n\t\tComments.update({_id:commentId}, {$inc: {likes: -1}});\n\t\tComments.update({_id:commentId}, {$pull: {likers: Meteor.userId()}});\n\t}\n});"]},"hash":"ca3ddcd0df8c3647db37009111e6f47e3b0124c0"}
